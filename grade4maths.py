import streamlit as st

# 1. ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä‡∑ö ‡∂∏‡∑ñ‡∂Ω‡∑í‡∂ö ‡∑É‡∑ê‡∂ö‡∑É‡∑î‡∂∏‡∑ä
st.set_page_config(page_title="Grade 4 Maths Master", page_icon="üßÆ", layout="centered")

# --- CSS Styling (‡∂≠‡∂±‡∑í ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫‡∂ö‡∑ä ‡∂¥‡∑ö‡∂± ‡∑Ä‡∑í‡∂Ø‡∑í‡∑Ñ‡∂ß) ---
st.markdown("""
<style>
    .stApp { background-color: #020617; }
    .q-card {
        background: #1e293b;
        padding: 30px;
        border-radius: 20px;
        border-top: 8px solid #facc15;
        margin-top: 20px;
        text-align: center;
        box-shadow: 0px 10px 30px rgba(0,0,0,0.5);
    }
    .question-text { color: #ffffff; font-size: 32px; font-weight: bold; margin-bottom: 20px; }
    div[data-testid="stMarkdownContainer"] p { font-size: 28px !important; color: #facc15 !important; font-weight: bold; }
    div[data-testid="stWidgetLabel"] p { font-size: 28px !important; color: #ffffff !important; }
    
    .score-container {
        position: fixed; bottom: 20px; right: 20px;
        background: #ef4444; color: white; padding: 15px 25px;
        border-radius: 12px; font-size: 24px; font-weight: bold;
        z-index: 1000; border: 3px solid #ffffff;
    }
    
    h1 { color: #facc15 !important; text-align: center; font-size: 45px !important; }
    
    .stButton>button {
        font-size: 24px !important; font-weight: bold !important;
        border-radius: 12px !important; height: 60px !important; width: 100% !important;
    }
</style>
""", unsafe_allow_html=True)

# --- Session State (‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂ª‡∑ê‡∂ö ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß) ---
if 'q_idx' not in st.session_state: st.session_state.q_idx = 0
if 'score' not in st.session_state: st.session_state.score = 0
if 'is_answered' not in st.session_state: st.session_state.is_answered = False
if 'result_msg' not in st.session_state: st.session_state.result_msg = ""

# --- ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂± 50 ---
QUESTIONS = [
    ["8052 ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∂Ö‡∂ö‡∑î‡∂ª‡∑ô‡∂±‡∑ä ‡∂Ω‡∑í‡∂∫‡∑ñ ‡∑Ä‡∑í‡∂ß?", ["‡∂Ö‡∂ß‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑É‡∑ä ‡∂Ø‡∑ô‡∂ö", "‡∂Ö‡∂ß‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑ä‡∑É‡∑í‡∂∫ ‡∂Ø‡∑ô‡∂ö", "‡∂Ö‡∂ß‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑ä‡∑É‡∑í‡∂∫ ‡∑Ä‡∑í‡∑É‡∑ä‡∑É"], "‡∂Ö‡∂ß‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑É‡∑ä ‡∂Ø‡∑ô‡∂ö"],
    ["450 + 320 ‡∑Ñ‡∑í ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?", ["770", "870", "750"], "770"],
    ["900 - 450 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?", ["450", "550", "350"], "450"],
    ["‡∂≠‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑ù‡∂´‡∂∫‡∂ö‡∂ß ‡∑Å‡∑ì‡∂ª‡∑ä‡∑Ç (‡∂∏‡∑î‡∑Ö‡∑î) ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["2", "3", "4"], "3"],
    ["‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 100 ‡∂±‡∑ù‡∂ß‡∑ä‡∂ß‡∑î‡∑Ä‡∂ö‡∂ß ‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 20 ‡∂±‡∑ù‡∂ß‡∑ä‡∂ß‡∑î ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑ö‡∂Ø?", ["4", "5", "10"], "5"],
    ["‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∂∫‡∂ö ‡∂á‡∂≠‡∑í ‡∂¥‡∑ê‡∂≠‡∑í ‡∂ú‡∂´‡∂± ‡∂ö‡∑ì‡∂∫‡∂Ø?", ["3", "4", "5"], "4"],
    ["7 x 8 ‡∑Ñ‡∑í ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª?", ["54", "56", "64"], "56"],
    ["‡∂Ω‡∑ì‡∂ß‡∂ª‡∑ä 1 ‡∂ö ‡∂∏‡∑í‡∂Ω‡∑í ‡∂Ω‡∑ì‡∂ß‡∂ª‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["100", "500", "1000"], "1000"],
    ["‡∑Ä‡∂ª‡∑ä‡∂ú‡∂¢ ‡∂∏‡∑ì‡∂ß‡∂ª‡∂∫‡∂ö‡∑ä ‡∂∫‡∂±‡∑î ‡∂ö‡∑î‡∂∏‡∂± ‡∂∏‡∑í‡∂±‡∑î‡∂∏‡∑ä ‡∂í‡∂ö‡∂ö‡∂∫‡∂ö‡∑ä‡∂Ø?", ["‡∂∂‡∂ª", "‡∂Ø‡∑í‡∂ú", "‡∑Ä‡∂ª‡∑ä‡∂ú‡∂µ‡∂Ω‡∂∫"], "‡∑Ä‡∂ª‡∑ä‡∂ú‡∂µ‡∂Ω‡∂∫"],
    ["‡∂¥‡∑ê‡∂∫ 1 ‡∂ö‡∂ß ‡∂∏‡∑í‡∂±‡∑í‡∂≠‡∑ä‡∂≠‡∑î ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["30", "60", "100"], "60"],
    ["3045 ‡∑Ñ‡∑í '0' ‡∂â‡∂Ω‡∂ö‡∑ä‡∂ö‡∂∏ ‡∂¥‡∑í‡∑Ñ‡∑í‡∂ß‡∑í ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∑ì‡∂∫ ‡∂Ö‡∂ú‡∂∫ ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?", ["‡∂ë‡∂ö‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫", "‡∂Ø‡∑Ñ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫", "‡∑É‡∑í‡∂∫‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫"], "‡∑É‡∑í‡∂∫‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫"],
    ["‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∑è‡∂ö‡∑è‡∂ª ‡∂∏‡∑î‡∑Ñ‡∑î‡∂´‡∂≠‡∑ä 6‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∂ù‡∂± ‡∂ª‡∑ñ‡∂¥‡∂∫?", ["‡∑É‡∑ù‡∂¥‡∑è‡∂±‡∂∫", "‡∂ù‡∂±‡∂ö‡∂∫", "‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∑è‡∂ö‡∑è‡∂ª ‡∂¥‡∑í‡∂ª‡∑í‡∑É‡∑ä‡∂∏‡∂∫"], "‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∑è‡∂ö‡∑è‡∂ª ‡∂¥‡∑í‡∂ª‡∑í‡∑É‡∑ä‡∂∏‡∂∫"],
    ["‡∂∏‡∑í‡∂Ω‡∑í‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä 10‡∂ö‡∑ä ‡∑É‡∂∏‡∑è‡∂± ‡∑Ä‡∂±‡∑ä‡∂±‡∑ö ‡∑É‡∑ô‡∂±‡∑ä‡∂ß‡∑í‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∂ß‡∂Ø?", ["1 cm", "10 cm", "100 cm"], "1 cm"],
    ["‡∂¥‡∑ê‡∂≠‡∑ä‡∂≠‡∂ö ‡∂Ø‡∑í‡∂ú 5cm ‡∑Ä‡∑ñ ‡∑É‡∂∏‡∂†‡∂≠‡∑î‡∂ª‡∑É‡∑ä‚Äç‡∂ª‡∂∫‡∂ö ‡∑Ä‡∂ß‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫ ‡∂ö‡∑ì‡∂∫‡∂Ø?", ["10 cm", "20 cm", "25 cm"], "20 cm"],
    ["‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è ‡∂ª‡∂ß‡∑è‡∑Ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±: 2, 4, 6, 8, ...", ["9", "10", "12"], "10"],
    ["‡∂ú‡∑ä‚Äç‡∂ª‡∑ë‡∂∏‡∑ä 1000‡∂ö‡∑ä ‡∂∫‡∂±‡∑î ‡∂ö‡∑í‡∂Ω‡∑ù‡∂ú‡∑ä‚Äç‡∂ª‡∑ë‡∂∏‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä‡∂Ø?", ["1 kg", "10 kg", "100 kg"], "1 kg"],
    ["‡∑Ä‡∑ò‡∂≠‡∑ä‡∂≠‡∂∫‡∂ö‡∂ß ‡∂¥‡∑ê‡∂≠‡∑í ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["0", "1", "2"], "0"],
    ["9 x 0 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?", ["0", "9", "90"], "0"],
    ["‡∑É‡∂≠‡∑í 2 ‡∂ö‡∂ß ‡∂Ø‡∑í‡∂± ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["10", "14", "15"], "14"],
    ["‡∑Ñ‡∑Ä‡∑É 3:00 ‡∂∫‡∂±‡∑î ‡∂¥‡∑ê‡∂∫ 24 ‡∂î‡∂ª‡∂Ω‡∑ù‡∑É‡∑î‡∑Ä‡∑ô‡∂±‡∑ä ‡∂ö‡∑ì‡∂∫‡∂Ø?", ["13:00", "15:00", "17:00"], "15:00"],
    ["56 ‡∂∂‡∑ô‡∂Ø‡∑ì‡∂∏ 8 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª?", ["6", "7", "8"], "7"],
    ["‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è ‡∂ª‡∑ö‡∂õ‡∑è‡∑Ä‡∂ö ‡∂∂‡∑í‡∂±‡∑ä‡∂Ø‡∑î‡∑Ä‡∂ß ‡∂Ø‡∂ö‡∑î‡∂´‡∑î ‡∂¥‡∑É‡∑í‡∂±‡∑ä ‡∂á‡∂≠‡∑ä‡∂≠‡∑ö?", ["‡∂∞‡∂± ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è", "‡∑É‡∑ò‡∂´ ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è", "‡∂Ø‡∑Å‡∂∏ ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è"], "‡∂∞‡∂± ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è"],
    ["‡∑É‡∂∏‡∂†‡∂≠‡∑î‡∂ª‡∑É‡∑ä‚Äç‡∂ª‡∂∫‡∂ö‡∂ß ‡∂∏‡∑î‡∑Ö‡∑î ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["2", "4", "6"], "4"],
    ["‡∂ö‡∑í‡∂Ω‡∑ù‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä 1‡∂ö ‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["10", "100", "1000"], "1000"],
    ["‡∂Ö‡∂ª‡∑ä‡∂∞ ‡∑Ä‡∑ò‡∂≠‡∑ä‡∂≠‡∂∫‡∂ö ‡∑Ñ‡∑ê‡∂©‡∂∫ ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?", ["‡∑Ä‡∑ò‡∂≠‡∑ä‡∂≠‡∂∫‡∂ö‡∑í‡∂±‡∑ä ‡∂Ö‡∂©‡∂ö‡∑ä", "‡∂ö‡∑ú‡∂ß‡∑î‡∑Ä‡∂ö‡∑ä", "‡∂≠‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑ù‡∂´‡∂∫‡∂ö‡∑ä"], "‡∑Ä‡∑ò‡∂≠‡∑ä‡∂≠‡∂∫‡∂ö‡∑í‡∂±‡∑ä ‡∂Ö‡∂©‡∂ö‡∑ä"],
    ["‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 500 ‡∂±‡∑ù‡∂ß‡∑ä‡∂ß‡∑î‡∑Ä‡∂ö‡∂ß ‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 100 ‡∂±‡∑ù‡∂ß‡∑ä‡∂ß‡∑î ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑ö‡∂Ø?", ["3", "5", "10"], "5"],
    ["‡∂Ω‡∑ì‡∂ß‡∂ª‡∑ä 2‡∂ö ‡∂∏‡∑í‡∂Ω‡∑í ‡∂Ω‡∑ì‡∂ß‡∂ª‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["200", "2000", "20000"], "2000"],
    ["‡∂Ö‡∂©‡∑î ‡∂ö‡∂ª‡∂±‡∑ä‡∂±: 75 - 28", ["47", "57", "43"], "47"],
    ["6 x 6 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª?", ["30", "36", "42"], "36"],
    ["‡∑Ä‡∑É‡∂ª‡∂ö‡∂ß ‡∂∏‡∑è‡∑É ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["7", "12", "30"], "12"],
    ["‡∂∂‡∑ô‡∂Ø‡∂±‡∑ä‡∂±: 40 / 5", ["5", "8", "10"], "8"],
    ["‡∂Ø‡∑Å‡∂∏ ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä‡∂ö‡∑ä ‡∂Ω‡∑í‡∂∫‡∂± ‡∑Ä‡∑í‡∂ß ‡∂∫‡∑ú‡∂Ø‡∂± ‡∂Ω‡∂ö‡∑ä‡∑Ç‡∑ä‚Äç‡∂∫‡∂∫?", ["‡∂≠‡∑í‡∂≠", "‡∂ö‡∑ú‡∂∏‡∑è‡∑Ä", "‡∂â‡∂ª"], "‡∂≠‡∑í‡∂≠"],
    ["‡∑Ä‡∑ê‡∂©‡∑í‡∂∏ ‡∂Ö‡∂ú‡∂∫‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä: 456, 654, 546", ["456", "654", "546"], "654"],
    ["‡∂ú‡∑ä‚Äç‡∂ª‡∑ë‡∂∏‡∑ä 500‡∂ö‡∑ä ‡∂∫‡∂±‡∑î ‡∂ö‡∑í‡∂Ω‡∑ù‡∂ú‡∑ä‚Äç‡∂ª‡∑ë‡∂∏‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∑í‡∂±‡∑ä ‡∂¥‡∂Ç‡∂ú‡∑î‡∑Ä‡∂ö‡∑ä‡∂Ø?", ["‡∂ö‡∑è‡∂Ω‡∂ö‡∑ä", "‡∂Ö‡∂©‡∂ö‡∑ä", "‡∂≠‡∑î‡∂±‡∑ä‡∂ö‡∑è‡∂Ω‡∂ö‡∑ä"], "‡∂Ö‡∂©‡∂ö‡∑ä"],
    ["‡∂¥‡∑ê‡∂≠‡∑í ‡∂≠‡∑î‡∂±‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∑É‡∂Ç‡∑Ä‡∑ò‡∂≠ ‡∂ª‡∑ñ‡∂¥‡∂∫?", ["‡∂†‡∂≠‡∑î‡∂ª‡∑É‡∑ä‚Äç‡∂ª‡∂∫", "‡∂≠‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑ù‡∂´‡∂∫", "‡∑Ä‡∑ò‡∂≠‡∑ä‡∂≠‡∂∫"], "‡∂≠‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑ù‡∂´‡∂∫"],
    ["‡∂¥‡∑ê‡∂∫‡∂ö‡∑í‡∂±‡∑ä ‡∂Ö‡∂©‡∂ö‡∑ä ‡∂∫‡∂±‡∑î ‡∂∏‡∑í‡∂±‡∑í‡∂≠‡∑ä‡∂≠‡∑î ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä‡∂Ø?", ["15", "30", "45"], "30"],
    ["12 x 2 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª?", ["24", "14", "22"], "24"],
    ["‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä‡∂ö ‡∂Ö‡∂ú‡∂∫ 10 ‡∂ú‡∑î‡∂´‡∂∫‡∂ö‡∑í‡∂±‡∑ä ‡∑Ä‡∑ê‡∂©‡∑í ‡∑Ä‡∂± ‡∑Ä‡∑í‡∂ß ‡∂ë‡∂∫ ‡∂ö‡∑î‡∂∏‡∂± ‡∂¥‡∑ê‡∂≠‡∑ä‡∂≠‡∂ß ‡∂∫‡∂∫‡∑í‡∂Ø?", ["‡∑Ä‡∂∏‡∑ä ‡∂¥‡∑É‡∂ß", "‡∂Ø‡∂ö‡∑î‡∂´‡∑î ‡∂¥‡∑É‡∂ß", "‡∂¥‡∑Ñ‡∑Ö‡∂ß"], "‡∑Ä‡∂∏‡∑ä ‡∂¥‡∑É‡∂ß"],
    ["‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∂∫‡∂ö ‡∂Ø‡∑í‡∂ú ‡∂¥‡∑ê‡∂≠‡∑í ‡∂Ø‡∑ô‡∂ö‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["‡∂î‡∑Ä‡∑ä", "‡∂±‡∑ê‡∂≠", "‡∑É‡∂∏‡∑Ñ‡∂ª‡∑Ä‡∑í‡∂ß"], "‡∂î‡∑Ä‡∑ä"],
    ["‡∂Ø‡∑í‡∂±‡∂ö‡∂ß ‡∂¥‡∑ê‡∂∫ ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?", ["12", "24", "30"], "24"],
    ["81 ‡∂∂‡∑ô‡∂Ø‡∑ì‡∂∏ 9 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª?", ["7", "8", "9"], "9"],
    ["‡∑É‡∂∏‡∂†‡∂≠‡∑î‡∂ª‡∑É‡∑ä‚Äç‡∂ª‡∂∫‡∂ö ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∂¥‡∑ê‡∂≠‡∑í ‡∂Ø‡∑í‡∂ú‡∑í‡∂±‡∑ä?", ["‡∑É‡∂∏‡∑è‡∂±‡∂∫‡∑í", "‡∂Ö‡∑É‡∂∏‡∑è‡∂±‡∂∫‡∑í", "‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∑Ä‡∑ö"], "‡∑É‡∂∏‡∑è‡∂±‡∂∫‡∑í"],
    ["‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 20 ‡∂ö‡∂ß ‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 2 ‡∂ö‡∑è‡∑É‡∑í ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑ö‡∂Ø?", ["5", "10", "20"], "10"],
    ["‡∑É‡∑ô‡∂±‡∑ä‡∂ß‡∑í‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä 100‡∂ö‡∑ä ‡∑É‡∂∏‡∑è‡∂± ‡∑Ä‡∂±‡∑ä‡∂±‡∑ö ‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∂ß‡∂Ø?", ["1 m", "10 m", "100 m"], "1 m"],
    ["‡∂¥‡∑Ñ‡∂≠ ‡∂í‡∑Ä‡∑è‡∂∫‡∑í‡∂±‡∑ä ‡∂ù‡∂± ‡∑Ä‡∑É‡∑ä‡∂≠‡∑î‡∑Ä‡∂ö‡∑ä ‡∑Ä‡∂±‡∑ä‡∂±‡∑ö ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?", ["‡∂≠‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑ù‡∂´‡∂∫", "‡∂ù‡∂±‡∂ö‡∂∫", "‡∑Ä‡∑ò‡∂≠‡∑ä‡∂≠‡∂∫"], "‡∂ù‡∂±‡∂ö‡∂∫"],
    ["‡∂Ö‡∂©‡∑î‡∂∏ ‡∂Ö‡∂ú‡∂∫‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä: 102, 120, 201", ["102", "120", "201"], "102"],
    ["5 x 10 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª?", ["15", "50", "500"], "50"],
    ["‡∂∏‡∑í‡∂±‡∑í‡∂≠‡∑ä‡∂≠‡∑î 60 ‡∂ö‡∑ä ‡∂∫‡∂±‡∑î ‡∂¥‡∑ê‡∂∫ ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä‡∂Ø?", ["1", "2", "6"], "1"],
    ["‡∂ú‡∑ä‚Äç‡∂ª‡∑ë‡∂∏‡∑ä 250 ‡∂ö‡∂ß ‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 100‡∂ö‡∑ä ‡∂±‡∂∏‡∑ä ‡∂ö‡∑í‡∂Ω‡∑ù 1‡∂ö ‡∂∏‡∑í‡∂Ω?", ["200", "400", "800"], "400"],
    ["‡∂î‡∂∂ ‡∂ú‡∂´‡∑í‡∂≠‡∂∫‡∂ß ‡∂Ø‡∂ö‡∑ä‡∑Ç‡∂Ø?", ["‡∂î‡∑Ä‡∑ä", "‡∂ú‡∑ú‡∂©‡∂ö‡∑ä", "‡∂Ö‡∂±‡∑í‡∑Ä‡∑è‡∂ª‡∑ä‡∂∫‡∂∫‡∑ô‡∂±‡∑ä‡∂∏"], "‡∂Ö‡∂±‡∑í‡∑Ä‡∑è‡∂ª‡∑ä‡∂∫‡∂∫‡∑ô‡∂±‡∑ä‡∂∏"]
]

# --- UI Header ---
st.markdown("<h1>üéì Grade 4 Maths Master</h1>", unsafe_allow_html=True)
st.markdown(f'<div class="score-container">SCORE: {st.session_state.score} / 50</div>', unsafe_allow_html=True)

# ‡∑É‡∑í‡∂∫‡∂Ω‡∑î ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂± ‡∂â‡∑Ä‡∂ª ‡∂±‡∂∏‡∑ä
if st.session_state.q_idx >= len(QUESTIONS):
    st.balloons()
    st.markdown(f"<div class='q-card'><h2 style='color:#facc15;'>‡∑Ä‡∑ê‡∂©‡∑ö ‡∂â‡∑Ä‡∂ª‡∂∫‡∑í! üèÜ</h2><p style='color:white; font-size:30px;'>‡∂î‡∂∂‡∑ö ‡∂Ω‡∂ö‡∑î‡∂´‡∑î ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä: {st.session_state.score} / 50</p></div>", unsafe_allow_html=True)
    if st.button("‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂∏‡∑î‡∂Ω ‡∑É‡∑í‡∂ß ‡∂Ö‡∂ª‡∂π‡∂±‡∑ä‡∂± üîÑ"):
        st.session_state.q_idx = 0
        st.session_state.score = 0
        st.session_state.is_answered = False
        st.rerun()
else:
    # ‡∑Ä‡∂≠‡∑ä‡∂∏‡∂±‡∑ä ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂±‡∂∫
    q_data = QUESTIONS[st.session_state.q_idx]
    
    st.markdown(f"""
    <div class="q-card">
        <div style="color:#facc15; font-size:20px; margin-bottom:10px;">Question {st.session_state.q_idx + 1} of 50</div>
        <div class="question-text">{q_data[0]}</div>
    </div>
    """, unsafe_allow_html=True)
    
    # ‡∂ã‡∂≠‡∑ä‡∂≠‡∂ª ‡∂≠‡∑ö‡∂ª‡∑ì‡∂∏
    if not st.session_state.is_answered:
        choice = st.radio("‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±:", q_data[1], key=f"radio_{st.session_state.q_idx}", label_visibility="collapsed")
        
        if st.button("CHECK ‚úÖ", type="primary"):
            if choice == q_data[2]:
                st.session_state.score += 1
                st.session_state.result_msg = "correct"
            else:
                st.session_state.result_msg = f"wrong|{q_data[2]}"
            st.session_state.is_answered = True
            st.rerun()
    else:
        # ‡∂¥‡∑ä‚Äç‡∂ª‡∂≠‡∑í‡∂µ‡∂Ω‡∂∫ ‡∂¥‡∑ô‡∂±‡∑ä‡∑Ä‡∑ì‡∂∏
        if st.session_state.result_msg == "correct":
            st.success("‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í! ‚úÖ")
        else:
            ans = st.session_state.result_msg.split("|")[1]
            st.error(f"‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂∫‡∑í! ‚ùå ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª: {ans}")
            
        if st.button("NEXT ‚û°Ô∏è"):
            st.session_state.q_idx += 1
            st.session_state.is_answered = False
            st.rerun()
