import streamlit as st

# 1. ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä‡∑ö ‡∂∏‡∑ñ‡∂Ω‡∑í‡∂ö ‡∑É‡∑ê‡∂ö‡∑É‡∑î‡∂∏‡∑ä
st.set_page_config(page_title="Grade 4 Maths Master", page_icon="üßÆ", layout="centered")

# --- CSS Styling (‡∑Ä‡∑í‡∑Å‡∑è‡∂Ω ‡∂Ö‡∂ö‡∑î‡∂ª‡∑î ‡∑É‡∑Ñ ‡∂¥‡∑ê‡∑Ñ‡∑ê‡∂Ø‡∑í‡∂Ω‡∑í ‡∑Ä‡∂ª‡∑ä‡∂´) ---
st.markdown("""
<style>
    .stApp { background-color: #020617; }
    .q-card {
        background: #1e293b;
        padding: 25px;
        border-radius: 15px;
        border-left: 10px solid #facc15;
        margin-bottom: 30px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.5);
    }
    .question-text { 
        color: #ffffff; 
        font-size: 28px; 
        font-weight: bold;
        line-height: 1.6;
    }
    div[data-testid="stMarkdownContainer"] p {
        font-size: 26px !important;
        color: #facc15 !important;
        font-weight: bold;
    }
    div[data-testid="stWidgetLabel"] p {
        font-size: 26px !important;
        color: #ffffff !important;
    }
    .score-container {
        position: fixed; top: 20px; right: 20px;
        background: #ef4444; color: white; padding: 20px;
        border-radius: 15px; font-size: 24px; font-weight: bold;
        z-index: 1000; border: 3px solid #ffffff;
    }
    h1 { color: #facc15 !important; text-align: center; font-size: 45px !important; text-shadow: 3px 3px #000; }
    
    .stButton>button {
        font-size: 22px !important;
        font-weight: bold !important;
        background-color: #22c55e !important;
        color: white !important;
        border-radius: 10px !important;
        height: 60px !important;
        width: 100% !important;
    }
</style>
""", unsafe_allow_html=True)

# --- Session State (‡∂Ø‡∂≠‡∑ä‡∂≠ ‡∂ª‡∑ê‡∂ö ‡∂ú‡∑ê‡∂±‡∑ì‡∂∏‡∂ß) ---
if 'score' not in st.session_state:
    st.session_state.score = 0
if 'answered_list' not in st.session_state:
    st.session_state.answered_list = {} # ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂± ‡∂Ö‡∂Ç‡∂ö‡∂∫: (‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í‡∂Ø, ‡∂≠‡∑ö‡∂ª‡∑ñ ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª)

# --- ‡∂¥‡∑ä‚Äç‡∂ª‡∑Å‡∑ä‡∂± 50 ---
QUESTIONS = [
    {"q": """8052 ‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è‡∑Ä ‡∂Ö‡∂ö‡∑î‡∂ª‡∑ô‡∂±‡∑ä ‡∂Ω‡∑í‡∂∫‡∑ñ ‡∑Ä‡∑í‡∂ß?""", "options": ["‡∂Ö‡∂ß‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑É‡∑ä ‡∂Ø‡∑ô‡∂ö", "‡∂Ö‡∂ß‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑ä‡∑É‡∑í‡∂∫ ‡∂Ø‡∑ô‡∂ö", "‡∂Ö‡∂ß‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑ä‡∑É‡∑í‡∂∫ ‡∑Ä‡∑í‡∑É‡∑ä‡∑É"], "a": "‡∂Ö‡∂ß‡∂Ø‡∑Ñ‡∑É‡∑ä ‡∂¥‡∂±‡∑É‡∑ä ‡∂Ø‡∑ô‡∂ö"},
    {"q": """450 + 320 ‡∑Ñ‡∑í ‡∂±‡∑í‡∑Ä‡∑ê‡∂ª‡∂Ø‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?""", "options": ["770", "870", "750"], "a": "770"},
    {"q": """900 - 450 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?""", "options": ["450", "550", "350"], "a": "450"},
    {"q": """‡∂≠‡∑ä‚Äç‡∂ª‡∑í‡∂ö‡∑ù‡∂´‡∂∫‡∂ö‡∂ß ‡∑Å‡∑ì‡∂ª‡∑ä‡∑Ç (‡∂∏‡∑î‡∑Ö‡∑î) ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?""", "options": ["2", "3", "4"], "a": "3"},
    {"q": """‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 100 ‡∂±‡∑ù‡∂ß‡∑ä‡∂ß‡∑î‡∑Ä‡∂ö‡∂ß ‡∂ª‡∑î‡∂¥‡∑í‡∂∫‡∂Ω‡∑ä 20 ‡∂±‡∑ù‡∂ß‡∑ä‡∂ß‡∑î ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂Ω‡∑ê‡∂∂‡∑ö‡∂Ø?""", "options": ["4", "5", "10"], "a": "5"},
    {"q": """‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∂∫‡∂ö ‡∂á‡∂≠‡∑í ‡∂¥‡∑ê‡∂≠‡∑í ‡∂ú‡∂´‡∂± ‡∂ö‡∑ì‡∂∫‡∂Ø?""", "options": ["3", "4", "5"], "a": "4"},
    {"q": """7 x 8 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?""", "options": ["54", "56", "64"], "a": "56"},
    {"q": """‡∂Ω‡∑ì‡∂ß‡∂ª‡∑ä 1 ‡∂ö ‡∂∏‡∑í‡∂Ω‡∑í ‡∂Ω‡∑ì‡∂ß‡∂ª‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?""", "options": ["100", "500", "1000"], "a": "1000"},
    {"q": """‡∑Ä‡∂ª‡∑ä‡∂ú‡∂¢ ‡∂∏‡∑ì‡∂ß‡∂ª‡∂∫‡∂ö‡∑ä ‡∂∫‡∂±‡∑î ‡∂ö‡∑î‡∂∏‡∂± ‡∂∏‡∑í‡∂±‡∑î‡∂∏‡∑ä ‡∂í‡∂ö‡∂ö‡∂∫‡∂ö‡∑ä‡∂Ø?""", "options": ["‡∂∂‡∂ª", "‡∂Ø‡∑í‡∂ú", "‡∑Ä‡∂ª‡∑ä‡∂ú‡∂µ‡∂Ω‡∂∫"], "a": "‡∑Ä‡∂ª‡∑ä‡∂ú‡∂µ‡∂Ω‡∂∫"},
    {"q": """‡∂¥‡∑ê‡∂∫ 1 ‡∂ö‡∂ß ‡∂∏‡∑í‡∂±‡∑í‡∂≠‡∑ä‡∂≠‡∑î ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?""", "options": ["30", "60", "100"], "a": "60"},
    {"q": """3045 ‡∑Ñ‡∑í '0' ‡∂â‡∂Ω‡∂ö‡∑ä‡∂ö‡∂∏ ‡∂¥‡∑í‡∑Ñ‡∑í‡∂ß‡∑í ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∑ì‡∂∫ ‡∂Ö‡∂ú‡∂∫ ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?""", "options": ["‡∂ë‡∂ö‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫", "‡∂Ø‡∑Ñ‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫", "‡∑É‡∑í‡∂∫‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫"], "a": "‡∑É‡∑í‡∂∫‡∑É‡∑ä‡∂Æ‡∑è‡∂±‡∂∫"},
    {"q": """‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∑è‡∂ö‡∑è‡∂ª ‡∂∏‡∑î‡∑Ñ‡∑î‡∂´‡∂≠‡∑ä 6‡∂ö‡∑ä ‡∂á‡∂≠‡∑í ‡∂ù‡∂± ‡∂ª‡∑ñ‡∂¥‡∂∫ ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?""", "options": ["‡∑É‡∑ù‡∂¥‡∑è‡∂±‡∂∫", "‡∂ù‡∂±‡∂ö‡∂∫", "‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∑è‡∂ö‡∑è‡∂ª ‡∂¥‡∑í‡∂ª‡∑í‡∑É‡∑ä‡∂∏‡∂∫"], "a": "‡∑É‡∑ò‡∂¢‡∑î‡∂ö‡∑ù‡∂´‡∑è‡∑É‡∑ä‚Äç‡∂ª‡∑è‡∂ö‡∑è‡∂ª ‡∂¥‡∑í‡∂ª‡∑í‡∑É‡∑ä‡∂∏‡∂∫"},
    {"q": """‡∂∏‡∑í‡∂Ω‡∑í‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä 10‡∂ö‡∑ä ‡∑É‡∂∏‡∑è‡∂± ‡∑Ä‡∂±‡∑ä‡∂±‡∑ö ‡∑É‡∑ô‡∂±‡∑ä‡∂ß‡∑í‡∂∏‡∑ì‡∂ß‡∂ª‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∂ß‡∂Ø?""", "options": ["1 cm", "10 cm", "100 cm"], "a": "1 cm"},
    {"q": """‡∂¥‡∑ê‡∂≠‡∑ä‡∂≠‡∂ö ‡∂Ø‡∑í‡∂ú 5cm ‡∑Ä‡∑ñ ‡∑É‡∂∏‡∂†‡∂≠‡∑î‡∂ª‡∑É‡∑ä‚Äç‡∂ª‡∂∫‡∂ö ‡∑Ä‡∂ß‡∂¥‡∑ä‚Äç‡∂ª‡∂∏‡∑è‡∂´‡∂∫ ‡∂ö‡∑ì‡∂∫‡∂Ø?""", "options": ["10 cm", "20 cm", "25 cm"], "a": "20 cm"},
    {"q": """‡∑É‡∂Ç‡∂õ‡∑ä‚Äç‡∂∫‡∑è ‡∂ª‡∂ß‡∑è‡∑Ä ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±: 2, 4, 6, 8, ...""", "options": ["9", "10", "12"], "a": "10"},
    {"q": """‡∂ú‡∑ä‚Äç‡∂ª‡∑ë‡∂∏‡∑ä 1000‡∂ö‡∑ä ‡∂∫‡∂±‡∑î ‡∂ö‡∑í‡∂Ω‡∑ù‡∂ú‡∑ä‚Äç‡∂ª‡∑ë‡∂∏‡∑ä ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä‡∂Ø?""", "options": ["1 kg", "10 kg", "100 kg"], "a": "1 kg"},
    {"q": """‡∑Ä‡∑ò‡∂≠‡∑ä‡∂≠‡∂∫‡∂ö‡∂ß ‡∂¥‡∑ê‡∂≠‡∑í ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?""", "options": ["0", "1", "2"], "a": "0"},
    {"q": """9 x 0 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª ‡∂ö‡∑î‡∂∏‡∂ö‡∑ä‡∂Ø?""", "options": ["0", "9", "90"], "a": "0"},
    {"q": """‡∑É‡∂≠‡∑í 2 ‡∂ö‡∂ß ‡∂Ø‡∑í‡∂± ‡∂ö‡∑ì‡∂∫‡∂ö‡∑ä ‡∂≠‡∑í‡∂∂‡∑ö‡∂Ø?""", "options": ["10", "14", "15"], "a": "14"},
    {"q": """‡∑Ñ‡∑Ä‡∑É 3:00 ‡∂∫‡∂±‡∑î ‡∂¥‡∑ê‡∂∫ 24 ‡∂î‡∂ª‡∂Ω‡∑ù‡∑É‡∑î‡∑Ä‡∑ô‡∂±‡∑ä ‡∂ö‡∑ì‡∂∫‡∂Ø?""", "options": ["13:00", "15:00", "17:00"], "a": "15:00"},
    {"q": """56 ‡∂∂‡∑ô‡∂Ø‡∑ì‡∂∏ 8 ‡∑Ñ‡∑í ‡∂¥‡∑í‡∑Ö‡∑í‡∂≠‡∑î‡∂ª?""", "options": ["6", "7", "8"], "a": "7"},
    {"q": """‡∑É‡∂Ç‡∂õ
